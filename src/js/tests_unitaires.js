/**
	Fonctions pour effectuer les tests unitaires.
**/

var DATA = {
	'recuperer_portail_HTML' : {
		tests : [
			{para:'"Portail:Première_Guerre_mondiale"', fct:'recuperer_portail_HTML',titre:'Premiers liens Portail:Première_Guerre_mondiale',commentaire:'Tester le fonctionnement de recuperer_portail_HTML() sur un exemple.'},
			{para:'"Portail:Pays_de_Lérins", 2', fct:'boucler_portail_HTML',titre:'Tous les liens Portail:Pays_de_Lérins',commentaire:'Tester le fonctionnement de boucler_portail_HTML() sur un exemple contenant plusieurs pages de liens.'}
		],
		attendu: '[{"a":[{"url":"http://fr.wikipedia.org/wiki/10_cm_K_14","titre":"10 cm K 14"},{"url":"http://fr.wikipedia.org/wiki/102e_régiment_d\'infanterie_territoriale","titre":"102e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/103e_régiment_d\'infanterie_territoriale","titre":"103e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/104e_régiment_d\'infanterie_territoriale","titre":"104e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/105e_régiment_d\'infanterie_territoriale","titre":"105e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/106e_régiment_d\'infanterie_territoriale","titre":"106e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/107e_régiment_d\'infanterie_(Allemagne)","titre":"107e régiment d\'infanterie (Allemagne)"},{"url":"http://fr.wikipedia.org/wiki/107e_régiment_d\'infanterie_territoriale","titre":"107e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/108e_régiment_d\'infanterie_territoriale","titre":"108e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/108e_régiment_de_tirailleurs_tunisiens","titre":"108e régiment de tirailleurs tunisiens"},{"url":"http://fr.wikipedia.org/wiki/109e_régiment_d\'infanterie_territoriale","titre":"109e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/10e_division_d\'infanterie_(Empire_allemand)","titre":"10e division d\'infanterie (Empire allemand)"},{"url":"http://fr.wikipedia.org/wiki/10e_régiment_d\'infanterie_coloniale","titre":"10e régiment d\'infanterie coloniale"},{"url":"http://fr.wikipedia.org/wiki/110e_régiment_d\'infanterie_territoriale","titre":"110e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/112e_régiment_d\'infanterie_territoriale","titre":"112e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/113e_régiment_d\'infanterie_territoriale","titre":"113e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/114e_régiment_d\'infanterie_territoriale","titre":"114e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/116e_régiment_d\'infanterie_territoriale","titre":"116e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/117e_régiment_d\'infanterie_territoriale","titre":"117e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/118e_régiment_d\'infanterie_territoriale","titre":"118e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/119e_régiment_d\'infanterie_territoriale","titre":"119e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/11e_division_d\'infanterie_(Empire_allemand)","titre":"11e division d\'infanterie (Empire allemand)"},{"url":"http://fr.wikipedia.org/wiki/11e_régiment_d\'infanterie_territoriale","titre":"11e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/11e_régiment_de_chasseurs_à_cheval","titre":"11e régiment de chasseurs à cheval"},{"url":"http://fr.wikipedia.org/wiki/120e_régiment_d\'infanterie_territoriale","titre":"120e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/122e_régiment_d\'infanterie_territoriale","titre":"122e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/124e_régiment_d\'infanterie_territoriale","titre":"124e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/125e_régiment_d\'infanterie_territoriale","titre":"125e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/127e_régiment_d\'infanterie_territoriale","titre":"127e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/128e_régiment_d\'infanterie_territoriale","titre":"128e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/129e_régiment_d\'infanterie_territoriale","titre":"129e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/12e_division_d\'infanterie_(Empire_allemand)","titre":"12e division d\'infanterie (Empire allemand)"},{"url":"http://fr.wikipedia.org/wiki/12e_régiment_d\'infanterie","titre":"12e régiment d\'infanterie"},{"url":"http://fr.wikipedia.org/wiki/12e_régiment_d\'infanterie_coloniale","titre":"12e régiment d\'infanterie coloniale"},{"url":"http://fr.wikipedia.org/wiki/12e_régiment_de_tirailleurs_tunisiens","titre":"12e régiment de tirailleurs tunisiens"},{"url":"http://fr.wikipedia.org/wiki/131e_régiment_d\'infanterie_territoriale","titre":"131e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/132e_régiment_d\'infanterie_territoriale","titre":"132e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/133e_régiment_d\'infanterie_territoriale","titre":"133e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/134e_régiment_d\'infanterie_territoriale","titre":"134e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/135e_régiment_d\'infanterie_territoriale","titre":"135e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/137e_régiment_d\'infanterie_territoriale","titre":"137e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/138e_régiment_d\'infanterie_territoriale","titre":"138e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/13e_division_d\'infanterie_(Empire_allemand)","titre":"13e division d\'infanterie (Empire allemand)"},{"url":"http://fr.wikipedia.org/wiki/13e_régiment_d\'infanterie_territoriale","titre":"13e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/14_(roman)","titre":"14 (roman)"},{"url":"http://fr.wikipedia.org/wiki/14_-_Des_armes_et_des_mots","titre":"14 - Des armes et des mots"},{"url":"http://fr.wikipedia.org/wiki/14-18_(film)","titre":"14-18 (film)"},{"url":"http://fr.wikipedia.org/wiki/14-18_magazine","titre":"14-18 magazine"},{"url":"http://fr.wikipedia.org/wiki/140e_régiment_d\'infanterie_territoriale","titre":"140e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/141e_régiment_d\'infanterie_territoriale","titre":"141e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/142e_régiment_d\'infanterie_territoriale","titre":"142e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/143e_régiment_d\'infanterie_territoriale","titre":"143e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/144e_régiment_d\'infanterie_territoriale","titre":"144e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/145e_régiment_d\'infanterie","titre":"145e régiment d\'infanterie"},{"url":"http://fr.wikipedia.org/wiki/145e_régiment_d\'infanterie_territoriale","titre":"145e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/14e_division_d\'infanterie_(Empire_allemand)","titre":"14e division d\'infanterie (Empire allemand)"},{"url":"http://fr.wikipedia.org/wiki/14e_régiment_d\'infanterie_coloniale","titre":"14e régiment d\'infanterie coloniale"},{"url":"http://fr.wikipedia.org/wiki/14e_régiment_d\'infanterie_territoriale","titre":"14e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/15e_division_d\'infanterie_(Empire_allemand)","titre":"15e division d\'infanterie (Empire allemand)"},{"url":"http://fr.wikipedia.org/wiki/15e_régiment_d\'infanterie_coloniale","titre":"15e régiment d\'infanterie coloniale"},{"url":"http://fr.wikipedia.org/wiki/16e_division_d\'infanterie_(Empire_allemand)","titre":"16e division d\'infanterie (Empire allemand)"},{"url":"http://fr.wikipedia.org/wiki/16e_régiment_d\'infanterie_coloniale","titre":"16e régiment d\'infanterie coloniale"},{"url":"http://fr.wikipedia.org/wiki/16e_régiment_d\'infanterie_territoriale","titre":"16e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/178e_régiment_d\'artillerie_de_tranchée","titre":"178e régiment d\'artillerie de tranchée"},{"url":"http://fr.wikipedia.org/wiki/17e_division_d\'infanterie_(Empire_allemand)","titre":"17e division d\'infanterie (Empire allemand)"},{"url":"http://fr.wikipedia.org/wiki/17e_régiment_d\'infanterie_coloniale","titre":"17e régiment d\'infanterie coloniale"},{"url":"http://fr.wikipedia.org/wiki/17e_régiment_d\'infanterie_territoriale","titre":"17e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/18e_division_d\'infanterie_(Empire_allemand)","titre":"18e division d\'infanterie (Empire allemand)"},{"url":"http://fr.wikipedia.org/wiki/18e_régiment_d\'infanterie_coloniale","titre":"18e régiment d\'infanterie coloniale"},{"url":"http://fr.wikipedia.org/wiki/18e_régiment_d\'infanterie_territoriale","titre":"18e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/1914","titre":"1914"},{"url":"http://fr.wikipedia.org/wiki/1914_au_Québec","titre":"1914 au Québec"},{"url":"http://fr.wikipedia.org/wiki/1914_en_aéronautique","titre":"1914 en aéronautique"},{"url":"http://fr.wikipedia.org/wiki/1914_en_France","titre":"1914 en France"},{"url":"http://fr.wikipedia.org/wiki/1914_en_musique_classique","titre":"1914 en musique classique"},{"url":"http://fr.wikipedia.org/wiki/1914._Les_Atrocités_allemandes","titre":"1914. Les Atrocités allemandes"},{"url":"http://fr.wikipedia.org/wiki/1915","titre":"1915"},{"url":"http://fr.wikipedia.org/wiki/1915_au_Québec","titre":"1915 au Québec"},{"url":"http://fr.wikipedia.org/wiki/1915_en_aéronautique","titre":"1915 en aéronautique"},{"url":"http://fr.wikipedia.org/wiki/1915_en_France","titre":"1915 en France"},{"url":"http://fr.wikipedia.org/wiki/1915_en_musique_classique","titre":"1915 en musique classique"},{"url":"http://fr.wikipedia.org/wiki/1916","titre":"1916"},{"url":"http://fr.wikipedia.org/wiki/1916_au_Québec","titre":"1916 au Québec"},{"url":"http://fr.wikipedia.org/wiki/1916_en_aéronautique","titre":"1916 en aéronautique"},{"url":"http://fr.wikipedia.org/wiki/1916_en_France","titre":"1916 en France"},{"url":"http://fr.wikipedia.org/wiki/1916_en_musique_classique","titre":"1916 en musique classique"},{"url":"http://fr.wikipedia.org/wiki/1917","titre":"1917"},{"url":"http://fr.wikipedia.org/wiki/1917_au_Québec","titre":"1917 au Québec"},{"url":"http://fr.wikipedia.org/wiki/1917_aux_États-Unis","titre":"1917 aux États-Unis"},{"url":"http://fr.wikipedia.org/wiki/1917_en_aéronautique","titre":"1917 en aéronautique"},{"url":"http://fr.wikipedia.org/wiki/1917_en_France","titre":"1917 en France"},{"url":"http://fr.wikipedia.org/wiki/1917_en_musique_classique","titre":"1917 en musique classique"},{"url":"http://fr.wikipedia.org/wiki/1918","titre":"1918"},{"url":"http://fr.wikipedia.org/wiki/1918_au_Québec","titre":"1918 au Québec"},{"url":"http://fr.wikipedia.org/wiki/1918_aux_États-Unis","titre":"1918 aux États-Unis"},{"url":"http://fr.wikipedia.org/wiki/1918_en_aéronautique","titre":"1918 en aéronautique"},{"url":"http://fr.wikipedia.org/wiki/1918_en_France","titre":"1918 en France"},{"url":"http://fr.wikipedia.org/wiki/19e_division_d\'infanterie_(Empire_allemand)","titre":"19e division d\'infanterie (Empire allemand)"},{"url":"http://fr.wikipedia.org/wiki/19e_régiment_d\'infanterie","titre":"19e régiment d\'infanterie"},{"url":"http://fr.wikipedia.org/wiki/19e_régiment_d\'infanterie_territoriale","titre":"19e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/1er_régiment_cosaque_de_Nertchinsk","titre":"1er régiment cosaque de Nertchinsk"},{"url":"http://fr.wikipedia.org/wiki/1er_régiment_de_spahis_algériens","titre":"1er régiment de spahis algériens"},{"url":"http://fr.wikipedia.org/wiki/1re_Brigade_d\'infanterie_sud-africaine","titre":"1re Brigade d\'infanterie sud-africaine"},{"url":"http://fr.wikipedia.org/wiki/1re_Division_canadienne_(1914-1918)","titre":"1re Division canadienne (1914-1918)"},{"url":"http://fr.wikipedia.org/wiki/1re_division_d\'infanterie_(Empire_allemand)","titre":"1re division d\'infanterie (Empire allemand)"},{"url":"http://fr.wikipedia.org/wiki/1re_division_de_la_Garde_(Empire_allemand)","titre":"1re division de la Garde (Empire allemand)"},{"url":"http://fr.wikipedia.org/wiki/1st_Indian_Cavalry_Division","titre":"1st Indian Cavalry Division"},{"url":"http://fr.wikipedia.org/wiki/201e_régiment_d\'infanterie_territoriale","titre":"201e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/20e_division_d\'infanterie_(Empire_allemand)","titre":"20e division d\'infanterie (Empire allemand)"},{"url":"http://fr.wikipedia.org/wiki/20e_régiment_d\'infanterie","titre":"20e régiment d\'infanterie"},{"url":"http://fr.wikipedia.org/wiki/20e_régiment_d\'infanterie_territoriale","titre":"20e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/20e_régiment_de_tirailleurs_tunisiens","titre":"20e régiment de tirailleurs tunisiens"},{"url":"http://fr.wikipedia.org/wiki/210e_régiment_d\'infanterie_territoriale","titre":"210e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/212e_régiment_d\'infanterie_territoriale","titre":"212e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/213e_régiment_d\'infanterie_territoriale","titre":"213e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/214e_régiment_d\'infanterie_territoriale","titre":"214e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/215e_régiment_d\'infanterie_territoriale","titre":"215e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/216e_régiment_d\'infanterie_territoriale","titre":"216e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/217e_régiment_d\'infanterie_territoriale","titre":"217e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/218e_régiment_d\'infanterie_territoriale","titre":"218e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/219e_régiment_d\'infanterie_territoriale","titre":"219e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/21e_division_d\'infanterie_(Empire_allemand)","titre":"21e division d\'infanterie (Empire allemand)"},{"url":"http://fr.wikipedia.org/wiki/21e_régiment_d\'infanterie_de_marine","titre":"21e régiment d\'infanterie de marine"},{"url":"http://fr.wikipedia.org/wiki/220e_régiment_d\'infanterie_territoriale","titre":"220e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/221e_régiment_d\'infanterie_territoriale","titre":"221e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/222e_régiment_d\'infanterie_territoriale","titre":"222e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/223e_régiment_d\'infanterie_territoriale","titre":"223e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/224e_régiment_d\'infanterie_territoriale","titre":"224e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/225e_régiment_d\'infanterie_territoriale","titre":"225e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/226e_régiment_d\'infanterie_territoriale","titre":"226e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/227e_régiment_d\'infanterie_territoriale","titre":"227e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/228e_régiment_d\'infanterie_territoriale","titre":"228e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/229e_régiment_d\'infanterie_territoriale","titre":"229e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/22e_bataillon_d\'infanterie_de_marine","titre":"22e bataillon d\'infanterie de marine"},{"url":"http://fr.wikipedia.org/wiki/22e_division_d\'infanterie_(Empire_allemand)","titre":"22e division d\'infanterie (Empire allemand)"},{"url":"http://fr.wikipedia.org/wiki/22e_régiment_d\'infanterie_coloniale","titre":"22e régiment d\'infanterie coloniale"},{"url":"http://fr.wikipedia.org/wiki/22e_régiment_de_tirailleurs_algériens","titre":"22e régiment de tirailleurs algériens"},{"url":"http://fr.wikipedia.org/wiki/230e_régiment_d\'infanterie_territoriale","titre":"230e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/231e_régiment_d\'infanterie_territoriale","titre":"231e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/232e_régiment_d\'infanterie_territoriale","titre":"232e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/233e_régiment_d\'infanterie_territoriale","titre":"233e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/234e_régiment_d\'infanterie_territoriale","titre":"234e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/235e_régiment_d\'infanterie_territoriale","titre":"235e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/236e_régiment_d\'infanterie_territoriale","titre":"236e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/237e_régiment_d\'infanterie_territoriale","titre":"237e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/238e_régiment_d\'infanterie_territoriale","titre":"238e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/239e_régiment_d\'infanterie_territoriale","titre":"239e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/23e_division_d\'infanterie_(Empire_allemand)","titre":"23e division d\'infanterie (Empire allemand)"},{"url":"http://fr.wikipedia.org/wiki/23e_division_de_réserve_(Empire_allemand)","titre":"23e division de réserve (Empire allemand)"},{"url":"http://fr.wikipedia.org/wiki/23e_régiment_d\'infanterie_coloniale","titre":"23e régiment d\'infanterie coloniale"},{"url":"http://fr.wikipedia.org/wiki/23e_régiment_d\'infanterie_de_marine","titre":"23e régiment d\'infanterie de marine"},{"url":"http://fr.wikipedia.org/wiki/23e_régiment_d\'infanterie_territoriale","titre":"23e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/240e_régiment_d\'infanterie_territoriale","titre":"240e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/241e_régiment_d\'infanterie_territoriale","titre":"241e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/242e_régiment_d\'infanterie_territoriale","titre":"242e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/243e_régiment_d\'infanterie_territoriale","titre":"243e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/244e_régiment_d\'infanterie_territoriale","titre":"244e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/245e_régiment_d\'infanterie_territoriale","titre":"245e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/246e_régiment_d\'infanterie_territoriale","titre":"246e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/247e_régiment_d\'infanterie_territoriale","titre":"247e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/248e_régiment_d\'infanterie_territoriale","titre":"248e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/249e_régiment_d\'infanterie_territoriale","titre":"249e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/24e_division_d\'infanterie_(Empire_allemand)","titre":"24e division d\'infanterie (Empire allemand)"},{"url":"http://fr.wikipedia.org/wiki/24e_division_de_réserve_(Empire_allemand)","titre":"24e division de réserve (Empire allemand)"},{"url":"http://fr.wikipedia.org/wiki/24e_régiment_de_tirailleurs_tunisiens","titre":"24e régiment de tirailleurs tunisiens"},{"url":"http://fr.wikipedia.org/wiki/250e_régiment_d\'infanterie_territoriale","titre":"250e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/25e_division_d\'infanterie_(Empire_allemand)","titre":"25e division d\'infanterie (Empire allemand)"},{"url":"http://fr.wikipedia.org/wiki/25e_régiment_d\'infanterie_territoriale","titre":"25e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/25e_régiment_de_tirailleurs_algériens","titre":"25e régiment de tirailleurs algériens"},{"url":"http://fr.wikipedia.org/wiki/260e_régiment_d\'infanterie_territoriale","titre":"260e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/262e_régiment_d\'infanterie_territoriale","titre":"262e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/263e_régiment_d\'infanterie_territoriale","titre":"263e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/264e_régiment_d\'infanterie_territoriale","titre":"264e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/265e_régiment_d\'infanterie_territoriale","titre":"265e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/266e_régiment_d\'infanterie_territoriale","titre":"266e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/267e_régiment_d\'infanterie_territoriale","titre":"267e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/268e_régiment_d\'infanterie_territoriale","titre":"268e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/269e_régiment_d\'infanterie_territoriale","titre":"269e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/26e_division_d\'infanterie_(Empire_allemand)","titre":"26e division d\'infanterie (Empire allemand)"},{"url":"http://fr.wikipedia.org/wiki/26e_régiment_d\'infanterie_territoriale","titre":"26e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/26e_régiment_de_tirailleurs_algériens","titre":"26e régiment de tirailleurs algériens"},{"url":"http://fr.wikipedia.org/wiki/270e_régiment_d\'infanterie_territoriale","titre":"270e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/271e_régiment_d\'infanterie_territoriale","titre":"271e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/272e_régiment_d\'infanterie_territoriale","titre":"272e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/273e_régiment_d\'infanterie_territoriale","titre":"273e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/274e_régiment_d\'infanterie_territoriale","titre":"274e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/275e_régiment_d\'infanterie_territoriale","titre":"275e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/276e_régiment_d\'infanterie_territoriale","titre":"276e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/277e_régiment_d\'infanterie_territoriale","titre":"277e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/278e_régiment_d\'infanterie_territoriale","titre":"278e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/279e_régiment_d\'infanterie_territoriale","titre":"279e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/27e_bataillon_de_jägers","titre":"27e bataillon de jägers"},{"url":"http://fr.wikipedia.org/wiki/27e_Division_(Royaume-Uni)","titre":"27e Division (Royaume-Uni)"},{"url":"http://fr.wikipedia.org/wiki/27e_division_d\'infanterie_(Empire_allemand)","titre":"27e division d\'infanterie (Empire allemand)"},{"url":"http://fr.wikipedia.org/wiki/27e_régiment_d\'infanterie_territoriale","titre":"27e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/27e_régiment_de_tirailleurs_algériens","titre":"27e régiment de tirailleurs algériens"},{"url":"http://fr.wikipedia.org/wiki/280e_régiment_d\'infanterie_territoriale","titre":"280e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/281e_régiment_d\'infanterie_territoriale","titre":"281e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/282e_régiment_d\'infanterie_territoriale","titre":"282e régiment d\'infanterie territoriale"},{"url":"http://fr.wikipedia.org/wiki/283e_régiment_d\'infanterie_territoriale","titre":"283e régiment d\'infanterie territoriale"}],"e":[],"suiv":"&pagefrom=284e_régiment_d\'infanterie_territoriale","prec":""},{"a":[{"url":"http://fr.wikipedia.org/wiki/Nuits_musicales_du_Suquet","titre":"Nuits musicales du Suquet"},{"url":"http://fr.wikipedia.org/wiki/Observatoire_de_Super-Cannes","titre":"Observatoire de Super-Cannes"},{"url":"http://fr.wikipedia.org/wiki/Orchestre_régional_de_Cannes-Provence-Alpes-Côte_d\'Azur","titre":"Orchestre régional de Cannes-Provence-Alpes-Côte d\'Azur"},{"url":"http://fr.wikipedia.org/wiki/Palais_des_festivals_et_des_congrès_de_Cannes","titre":"Palais des festivals et des congrès de Cannes"},{"url":"http://fr.wikipedia.org/wiki/Palais_des_Victoires","titre":"Palais des Victoires"},{"url":"http://fr.wikipedia.org/wiki/Palm_Bus","titre":"Palm Bus"},{"url":"http://fr.wikipedia.org/wiki/Palme_d\'honneur","titre":"Palme d\'honneur"},{"url":"http://fr.wikipedia.org/wiki/Palme_d\'or","titre":"Palme d\'or"},{"url":"http://fr.wikipedia.org/wiki/Palme_d\'or_du_court_métrage","titre":"Palme d\'or du court métrage"},{"url":"http://fr.wikipedia.org/wiki/Palme_Dog","titre":"Palme Dog"},{"url":"http://fr.wikipedia.org/wiki/Partouche_Poker_Tour","titre":"Partouche Poker Tour"},{"url":"http://fr.wikipedia.org/wiki/Patrimoine_balnéaire_de_Cannes","titre":"Patrimoine balnéaire de Cannes"},{"url":"http://fr.wikipedia.org/wiki/Place_de_la_Castre","titre":"Place de la Castre"},{"url":"http://fr.wikipedia.org/wiki/Les_Plages_électroniques","titre":"Les Plages électroniques"},{"url":"http://fr.wikipedia.org/wiki/Pointe_Croisette","titre":"Pointe Croisette"},{"url":"http://fr.wikipedia.org/wiki/Prado_-_République","titre":"Prado - République"},{"url":"http://fr.wikipedia.org/wiki/Présidents_du_jury_du_festival_de_Cannes","titre":"Présidents du jury du festival de Cannes"},{"url":"http://fr.wikipedia.org/wiki/Prix_anniversaire_du_Festival_de_Cannes","titre":"Prix anniversaire du Festival de Cannes"},{"url":"http://fr.wikipedia.org/wiki/Prix_d\'interprétation_féminine_du_Festival_de_Cannes","titre":"Prix d\'interprétation féminine du Festival de Cannes"},{"url":"http://fr.wikipedia.org/wiki/Prix_d\'interprétation_masculine_du_Festival_de_Cannes","titre":"Prix d\'interprétation masculine du Festival de Cannes"},{"url":"http://fr.wikipedia.org/wiki/Prix_de_l\'Éducation_nationale_du_Festival_de_Cannes","titre":"Prix de l\'Éducation nationale du Festival de Cannes"},{"url":"http://fr.wikipedia.org/wiki/Prix_de_la_jeunesse","titre":"Prix de la jeunesse"},{"url":"http://fr.wikipedia.org/wiki/Prix_de_la_mise_en_scène_du_Festival_de_Cannes","titre":"Prix de la mise en scène du Festival de Cannes"},{"url":"http://fr.wikipedia.org/wiki/Prix_du_jury_du_Festival_de_Cannes","titre":"Prix du jury du Festival de Cannes"},{"url":"http://fr.wikipedia.org/wiki/Prix_du_jury_œcuménique_du_Festival_de_Cannes","titre":"Prix du jury œcuménique du Festival de Cannes"},{"url":"http://fr.wikipedia.org/wiki/Prix_du_scénario_du_Festival_de_Cannes","titre":"Prix du scénario du Festival de Cannes"},{"url":"http://fr.wikipedia.org/wiki/Prix_FIPRESCI_du_Festival_de_Cannes","titre":"Prix FIPRESCI du Festival de Cannes"},{"url":"http://fr.wikipedia.org/wiki/Prix_François-Chalais","titre":"Prix François-Chalais"},{"url":"http://fr.wikipedia.org/wiki/Prix_Orange_du_Festival_de_Cannes","titre":"Prix Orange du Festival de Cannes"},{"url":"http://fr.wikipedia.org/wiki/Prix_Roberto-Rossellini","titre":"Prix Roberto-Rossellini"},{"url":"http://fr.wikipedia.org/wiki/Prix_Un_certain_regard","titre":"Prix Un certain regard"},{"url":"http://fr.wikipedia.org/wiki/Prix_Vulcain_de_l\'artiste_technicien","titre":"Prix Vulcain de l\'artiste technicien"},{"url":"http://fr.wikipedia.org/wiki/Quinzaine_des_réalisateurs","titre":"Quinzaine des réalisateurs"},{"url":"http://fr.wikipedia.org/wiki/Racing_Club_de_Cannes","titre":"Racing Club de Cannes"},{"url":"http://fr.wikipedia.org/wiki/Radisson_blu_1835_Hotel_&_Thalasso","titre":"Radisson blu 1835 Hotel & Thalasso"},{"url":"http://fr.wikipedia.org/wiki/Riou_-_Petit_Juas_-_Av._de_Grasse","titre":"Riou - Petit Juas - Av. de Grasse"},{"url":"http://fr.wikipedia.org/wiki/Rugby_club_Cannes_Mandelieu","titre":"Rugby club Cannes Mandelieu"},{"url":"http://fr.wikipedia.org/wiki/Îlot_Saint-Ferréol","titre":"Îlot Saint-Ferréol"},{"url":"http://fr.wikipedia.org/wiki/Saison_2008-2009_de_l\'AS_Cannes_Volley-Ball","titre":"Saison 2008-2009 de l\'AS Cannes Volley-Ball"},{"url":"http://fr.wikipedia.org/wiki/Semaine_de_la_critique","titre":"Semaine de la critique"},{"url":"http://fr.wikipedia.org/wiki/Siagne","titre":"Siagne"},{"url":"http://fr.wikipedia.org/wiki/Sikh_(groupe)","titre":"Sikh (groupe)"},{"url":"http://fr.wikipedia.org/wiki/Thomas_Smith_(architecte)","titre":"Thomas Smith (architecte)"},{"url":"http://fr.wikipedia.org/wiki/Société_fermière_du_casino_municipal_de_Cannes","titre":"Société fermière du casino municipal de Cannes"},{"url":"http://fr.wikipedia.org/wiki/Soleil_d\'or_du_Festival_de_Cannes","titre":"Soleil d\'or du Festival de Cannes"},{"url":"http://fr.wikipedia.org/wiki/Sommet_du_G20_de_2011","titre":"Sommet du G20 de 2011"},{"url":"http://fr.wikipedia.org/wiki/Stade_des_Hespérides","titre":"Stade des Hespérides"},{"url":"http://fr.wikipedia.org/wiki/Stade_Pierre-de-Coubertin_(Cannes)","titre":"Stade Pierre-de-Coubertin (Cannes)"},{"url":"http://fr.wikipedia.org/wiki/Super-Cannes","titre":"Super-Cannes"},{"url":"http://fr.wikipedia.org/wiki/Syndicat_intercommunal_de_traitement_des_déchets_du_secteur_Cannes-Grasse","titre":"Syndicat intercommunal de traitement des déchets du secteur Cannes-Grasse"},{"url":"http://fr.wikipedia.org/wiki/Talents_Cannes","titre":"Talents Cannes"},{"url":"http://fr.wikipedia.org/wiki/John_Taylor_(1834-1922)","titre":"John Taylor (1834-1922)"},{"url":"http://fr.wikipedia.org/wiki/Karina_Testa","titre":"Karina Testa"},{"url":"http://fr.wikipedia.org/wiki/Thales_Alenia_Space","titre":"Thales Alenia Space"},{"url":"http://fr.wikipedia.org/wiki/Théoule-sur-Mer","titre":"Théoule-sur-Mer"},{"url":"http://fr.wikipedia.org/wiki/Tour_du_Suquet","titre":"Tour du Suquet"},{"url":"http://fr.wikipedia.org/wiki/Îlot_de_la_Tradelière","titre":"Îlot de la Tradelière"},{"url":"http://fr.wikipedia.org/wiki/Tramway_de_Cannes","titre":"Tramway de Cannes"},{"url":"http://fr.wikipedia.org/wiki/Trophée_Chopard","titre":"Trophée Chopard"},{"url":"http://fr.wikipedia.org/wiki/Trophée_des_champions_2002","titre":"Trophée des champions 2002"},{"url":"http://fr.wikipedia.org/wiki/Trophée_des_champions_2004","titre":"Trophée des champions 2004"},{"url":"http://fr.wikipedia.org/wiki/Trophée_du_Festival_de_Cannes","titre":"Trophée du Festival de Cannes"},{"url":"http://fr.wikipedia.org/wiki/Un_certain_regard","titre":"Un certain regard"},{"url":"http://fr.wikipedia.org/wiki/Frédéric_Viale","titre":"Frédéric Viale"},{"url":"http://fr.wikipedia.org/wiki/Villa_Champfleuri","titre":"Villa Champfleuri"},{"url":"http://fr.wikipedia.org/wiki/Villa_des_Dunes","titre":"Villa des Dunes"},{"url":"http://fr.wikipedia.org/wiki/Villa_Domergue","titre":"Villa Domergue"},{"url":"http://fr.wikipedia.org/wiki/Villa_Éléonore-Louise","titre":"Villa Éléonore-Louise"},{"url":"http://fr.wikipedia.org/wiki/Villa_Fiorentina_(Cannes)","titre":"Villa Fiorentina (Cannes)"},{"url":"http://fr.wikipedia.org/wiki/Villa_Ibrahim","titre":"Villa Ibrahim"},{"url":"http://fr.wikipedia.org/wiki/Villa_La_Californie","titre":"Villa La Californie"},{"url":"http://fr.wikipedia.org/wiki/Villa_Les_Lotus","titre":"Villa Les Lotus"},{"url":"http://fr.wikipedia.org/wiki/Villa_Romée","titre":"Villa Romée"},{"url":"http://fr.wikipedia.org/wiki/Villa_Rothschild_(Cannes)","titre":"Villa Rothschild (Cannes)"},{"url":"http://fr.wikipedia.org/wiki/Villa_Victoria_(Cannes)","titre":"Villa Victoria (Cannes)"},{"url":"http://fr.wikipedia.org/wiki/Jean_Vinci","titre":"Jean Vinci"},{"url":"http://fr.wikipedia.org/wiki/World_Series_of_Poker_Europe","titre":"World Series of Poker Europe"}],"nb_a":77,"nb_t":"309","e":[]}]'
	},
	'recuperer_article_JSON' : {
		tests : [
			{para:'JSON.parse(\'["Bataille de Verdun (1916)"]\'), 1, 1', fct:'recuperer_article_JSON',titre:'Récupérer un article.',commentaire:'Tester le fonctionnement de recuperer_article_JSON() sur un exemple.'},
			{para:'JSON.parse(\'["Bataille de Verdun (1916)","Bataille_de_Corbione","Bataille_de_la_Porte_Colline","Bataille_de_Dyrrachium_(48_av._J.-C.)","Siège_d%27Alésia","Bataille_de_Ctésiphon_(363)"]\'), 1, 1', fct:'recuperer_article_JSON',titre:'Récupération de plusieurs articles',commentaire:'Tester le fonctionnement de recuperer_article_JSON() sur un exemple contenant plusieurs articles.'}
		],
		attendu: '[[{"id":49111,"titre":"Bataille de Verdun (1916)","lon":5.38842,"lat":49.1608,"nb_langue":53,"nb_visite":0,"longueur":65825,"lien":"http://fr.wikipedia.org/wiki/Bataille_de_Verdun_(1916)","debut_annee":1916,"debut_mois":2,"debut_jour":21,"fin_annee":1916,"fin_mois":12,"fin_jour":19,"importance":0,"distance_Portail":2,"portail_id":1}],[{"id":8449414,"titre":"Bataille de Corbione","lon":0,"lat":0,"nb_langue":6,"nb_visite":0,"longueur":8022,"lien":"http://fr.wikipedia.org/wiki/Bataille_de_Corbione","debut_annee":-446,"debut_mois":0,"debut_jour":0,"fin_annee":-446,"fin_mois":0,"fin_jour":0,"importance":0,"distance_Portail":2,"portail_id":1},{"id":3019915,"titre":"Bataille de Ctésiphon (363)","lon":44.5833,"lat":33.1,"nb_langue":10,"nb_visite":0,"longueur":5801,"lien":"http://fr.wikipedia.org/wiki/Bataille_de_Ct%C3%A9siphon_(363)","debut_annee":363,"debut_mois":0,"debut_jour":0,"fin_annee":363,"fin_mois":0,"fin_jour":0,"importance":0,"distance_Portail":2,"portail_id":1},{"id":732581,"titre":"Bataille de Dyrrachium (48 av. J.-C.)","lon":0,"lat":0,"nb_langue":18,"nb_visite":0,"longueur":4209,"lien":"http://fr.wikipedia.org/wiki/Bataille_de_Dyrrachium_(48_av._J.-C.)","debut_annee":-48,"debut_mois":7,"debut_jour":10,"fin_annee":-48,"fin_mois":7,"fin_jour":10,"importance":0,"distance_Portail":2,"portail_id":1},{"id":49111,"titre":"Bataille de Verdun (1916)","lon":5.38842,"lat":49.1608,"nb_langue":53,"nb_visite":0,"longueur":65825,"lien":"http://fr.wikipedia.org/wiki/Bataille_de_Verdun_(1916)","debut_annee":1916,"debut_mois":2,"debut_jour":21,"fin_annee":1916,"fin_mois":12,"fin_jour":19,"importance":0,"distance_Portail":2,"portail_id":1},{"id":2895689,"titre":"Bataille de la Porte Colline","lon":0,"lat":0,"nb_langue":11,"nb_visite":0,"longueur":3098,"lien":"http://fr.wikipedia.org/wiki/Bataille_de_la_Porte_Colline","debut_annee":-82,"debut_mois":11,"debut_jour":0,"fin_annee":-82,"fin_mois":11,"fin_jour":0,"importance":0,"distance_Portail":2,"portail_id":1},{"id":56637,"titre":"Siège d\'Alésia","lon":4.50028,"lat":47.5372,"nb_langue":37,"nb_visite":0,"longueur":82410,"lien":"http://fr.wikipedia.org/wiki/Si%C3%A8ge_d%27Al%C3%A9sia","debut_annee":-52,"debut_mois":0,"debut_jour":0,"fin_annee":-52,"fin_mois":0,"fin_jour":0,"importance":0,"distance_Portail":2,"portail_id":1}]]'
	}
};
var data = null;

$.ready = function () {	
	if (page != 'index') {
		data = DATA[page];
		if (data.attendu == '') {genererTests();} else {executerTests();}
	}
}

function executerTests() {
	$('#statut').html('Génération du test en cours...').addClass('en_cours');

	var valide = true;

	var attendu = JSON.parse(data.attendu);
	$.each(data.tests, function (i, test) {
		// Maj etat :
		$('#etat').html('Test '+(i+1)+'/'+data.tests.length+' : "'+test.titre+'"...');
		// On execute le code :
		tps = eval(test.fct + '(' + test.para + ');'); // retour en objet

		test_html = '<p>'+test.titre+'</p><span>'+test.commentaire+'</span>';
		res_html = '<p class="succes">Test validé !</p>';
		
		// On compare le resultat :
		console.log(JSON.stringify(tps));
		if (JSON.stringify(tps) != JSON.stringify(attendu[i])) {
			$('#erreurs').show();
			$('#erreurs').append('<p>'+test.titre+'</p>');
			$('#tests').append('<div class="test"></div>');
			valide = false;
			res_html = '<p class="rate">Test non validé !</p>';
		}
		$('#tests').append('<div class="test">'+test_html+res_html+'</div>');
	});

	if (valide) {
		$('#etat').html('Tests terminés avec succès.');
		$('#statut').html('Tests validés !').addClass('succes');
	} else {
		$('#etat').html('Tests terminés.');
		$('#statut').html('Tests non validés !').addClass('rate');
		$('#erreurs').append("<h3>Attention !</h3><p>Les tests ne sont pas validés. Ils se basent cependant sur des pages wikipedia suceptibles d'être modifiées. Pensez à vérifier la date de mise à jours des pages.</p>");
	}
}

function genererTests() {
	$('#statut').html('Génération du test en cours...').addClass('en_cours');

	var attendu = [];
	$.each(data.tests, function (i, test) {
		// Maj etat :
		$('#etat').html('Test '+i+'/'+data.tests.length+' : "'+test.titre+'"...');
		// On execute le code :
		tps = eval(test.fct + '(' + test.para + ');'); // en objet
		// On ajout le resultat :
		attendu.push(tps);
	});

	$('#etat').html('Tests terminés avec succès.');

	// A la fin, on transforme attendu en string :
	var str = JSON.stringify(attendu).replace(/\\/g, '\\\\').replace(/'/g, "\\'");
	//et on le met dans un textarea :
	$('#tests').append('<textarea id="attendu">' + str + '</textarea>');

	$('#statut').html('Génération terminée avec succes.').addClass('succes');
}

function equals(obj1, obj2) {
    function _equals(obj1, obj2) {
        return JSON.stringify(obj1)
            === JSON.stringify($.extend(true, {}, obj1, obj2));
    }
    return _equals(obj1, obj2) && _equals(obj2, obj1);
}

function unwrapStringOrNumber(obj) {
    return (obj instanceof Number || obj instanceof String 
            ? obj.valueOf() 
            : obj);
}
function areEquivalent(a, b) {
    a = unwrapStringOrNumber(a);
    b = unwrapStringOrNumber(b);
    if (a === b) return true; //e.g. a and b both null
    if (a === null || b === null || typeof (a) !== typeof (b)) return false;
    if (a instanceof Date) 
        return b instanceof Date && a.valueOf() === b.valueOf();
    if (typeof (a) !== "object") 
        return a == b; //for boolean, number, string, xml

    var newA = (a.areEquivalent_Eq_91_2_34 === undefined),
        newB = (b.areEquivalent_Eq_91_2_34 === undefined);
    try {
        if (newA) a.areEquivalent_Eq_91_2_34 = [];
        else if (a.areEquivalent_Eq_91_2_34.some(
            function (other) { return other === b; })) return true;
        if (newB) b.areEquivalent_Eq_91_2_34 = [];
        else if (b.areEquivalent_Eq_91_2_34.some(
            function (other) { return other === a; })) return true;
        a.areEquivalent_Eq_91_2_34.push(b);
        b.areEquivalent_Eq_91_2_34.push(a);

        var tmp = {};
        for (var prop in a) 
            if(prop != "areEquivalent_Eq_91_2_34") 
                tmp[prop] = null;
        for (var prop in b) 
            if (prop != "areEquivalent_Eq_91_2_34") 
                tmp[prop] = null;

        for (var prop in tmp) 
            if (!areEquivalent(a[prop], b[prop]))
                return false;
        return true;
    } finally {
        if (newA) delete a.areEquivalent_Eq_91_2_34;
        if (newB) delete b.areEquivalent_Eq_91_2_34;
    }
}
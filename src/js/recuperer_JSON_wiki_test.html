<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8" />
    <title>Tests unitaires associés à la récupération d'informations JSON sur wikipedia</title>

    <script type="text/javascript" src="jquery.js"></script>
    <script type="text/javascript" src="recuperer_JSON_wiki.js"></script>
</head>

<style type="text/css">
.titres {
	width: 75%;
	margin-left:50px;
}
.test {
	margin:auto;
	margin-top: 50px;
	border: 1px solid #000;
	width: 90%;
	padding: 25px;
}
.test>div {
	margin-top: 0;
	margin-left:50px;
	margin-right: 50px;
	border: 1px solid #000;
	padding: 25px;
	overflow: auto;
}
div.test div.resultat {
	border: 1px solid #00F;
}
div.test div.resultat_attendu {
	border: 1px solid #F00;
}
</style>

<script type="text/javascript">
	window.onload = function () {
		$('.test').each(function() {
			var table = JSON.parse($(this).find('.titres').val());
			$(this).find('.resultat').append(recuperer_JSON_wiki(table, 1, 1));
		});
	}
</script>

<body>

<div class="test">
	<p>Test 1 : contenu du tableau "titre" en JSON</p>
	<p><input class="titres" value='["Bataille de Verdun (1916)"]' type="text"/></p>
	<p>Résultat :</p>
	<div class="resultat"></div>
	<p>Résultat attendu :</p>
	<div class="resultat_attendu">[{"id":49111,"titre":"Bataille de Verdun (1916)","nb_langue":0,"nb_visite":0,"longueur":65823,"lien":"http://fr.wikipedia.org/wiki/Bataille_de_Verdun_(1916)","data_evenement":"","long":5.38842,"lat":49.1608,"distance_Portail":2,"importance":0}]</div>
</div>

<div class="test">
	<p>Test 1 : contenu du tableau "titre" en JSON</p>
	<p><input class="titres" value='["Bataille de Verdun (1916)","Bataille_de_Corbione"]' type="text"/></p>
	<p>Résultat :</p>
	<div class="resultat"></div>
	<p>Résultat attendu :</p>
	<div class="resultat_attendu">[{"id":8449414,"titre":"Bataille de Corbione","nb_langue":0,"nb_visite":0,"longueur":8022,"lien":"http://fr.wikipedia.org/wiki/Bataille_de_Corbione","data_evenement":"","long":0,"lat":0,"distance_Portail":2,"importance":0},{"id":49111,"titre":"Bataille de Verdun (1916)","nb_langue":0,"nb_visite":0,"longueur":65823,"lien":"http://fr.wikipedia.org/wiki/Bataille_de_Verdun_(1916)","data_evenement":"","long":5.38842,"lat":49.1608,"distance_Portail":2,"importance":0}]</div>
</div>

</body>
</html>